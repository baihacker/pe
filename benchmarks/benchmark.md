# Test Environment

* Date: 2023.01.01
* OS:  Win11 Pro 22H2 (22621.963)
* CPU: [i9-9900K](https://en.wikichip.org/wiki/intel/core_i9/i9-9900k)
* Compiler: gcc version 12.1.0 (Rev2, Built by MSYS2 project)
* Msys2: msys2-x86_64-20220603
* Build:
  * [Build and use pe's dependent libraries](https://github.com/baihacker/pe/blob/master/libraries_on_win64.md#build-and-use-pes-dependent-libraries)
  * Build test target:
  > -o a.exe --std=c++17 -fno-diagnostics-color -O3 -march=native -mtune=native -fopenmp -lquadmath -Wl,--stack,268435456 -static -lbf -lgmpxx -lflint -lmpfr -lntl -lgmp -lprimesieve -lprimecount

# PolyMul benchmark
* Test code: [Poly mul test](https://github.com/baihacker/pe/blob/master/test/poly_mul_test.c)

## Test result

### Openmp enabled
```cpp
Begin PolyMulTest
config   : data = random, size = 1, n = 1000000, mod = 100019
flint n  : 0.294
flint p  : 0.559
ntt32 s  : 0.513
ntt32 l  : 0.584
ntt64 s  : 1.030
ntt64 l  : 1.114
Min_25 s : 0.105
Min_25 l : 0.131
libbf    : 0.600
ntl lm   : 0.614
ntl      : 0.203
config   : data = random, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.870
flint p  : 1.250
ntt32 l  : 1.262
ntt64 l  : 2.218
Min_25 l : 0.289
libbf    : 1.031
ntl lm   : 1.376
ntl      : 1.530
config   : data = random, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.679
flint p  : 0.897
ntt64 l  : 1.133
Min_25 l : 0.153
libbf    : 0.663
ntl lm   : 0.973
ntl      : 1.116
config   : data = max mod, size = 1, n = 999996, mod = 1000003
flint n  : 0.301
flint p  : 0.599
ntt32 s  : 0.447
ntt32 l  : 0.529
ntt64 s  : 1.017
ntt64 l  : 1.101
Min_25 s : 0.103
Min_25 l : 0.128
libbf    : 0.615
ntl lm   : 0.656
ntl      : 0.209
config   : data = max mod, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.998
flint p  : 1.246
ntt32 l  : 1.251
ntt64 l  : 2.177
Min_25 l : 0.254
libbf    : 1.029
ntl lm   : 1.274
ntl      : 1.294
config   : data = max mod, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.575
flint p  : 0.837
ntt64 l  : 1.070
Min_25 l : 0.153
libbf    : 0.655
ntl lm   : 0.926
ntl      : 0.953
End PolyMulTest
Time usage 0:00:00:42.354

Begin PolyMulPerformanceTest
mod = 100019
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.001  0.002  0.006  0.012  0.028  0.061  0.138  0.291
flint p  0.000  0.000  0.002  0.003  0.006  0.014  0.029  0.062  0.124  0.271  0.556
ntt32 s  0.001  0.001  0.002  0.003  0.007  0.015  0.025  0.061  0.121  0.254  0.504
ntt32 l  0.001  0.001  0.002  0.004  0.008  0.018  0.030  0.065  0.134  0.269  0.558
ntt64 s  0.001  0.002  0.004  0.008  0.018  0.037  0.057  0.123  0.251  0.508  1.053
ntt64 l  0.002  0.002  0.004  0.009  0.018  0.041  0.059  0.130  0.282  0.553  1.125
Min_25 s 0.000  0.000  0.000  0.000  0.001  0.003  0.006  0.012  0.023  0.049  0.103
Min_25 l 0.000  0.000  0.001  0.002  0.004  0.007  0.012  0.025  0.033  0.064  0.143
libbf    0.000  0.001  0.001  0.003  0.008  0.018  0.037  0.069  0.140  0.290  0.603
ntl lm   0.000  0.001  0.002  0.005  0.010  0.020  0.036  0.077  0.156  0.306  0.663
ntl      0.000  0.000  0.001  0.001  0.002  0.005  0.010  0.022  0.046  0.096  0.210
mod = 1000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.001  0.002  0.006  0.014  0.027  0.058  0.140  0.288
flint p  0.000  0.001  0.001  0.004  0.006  0.014  0.033  0.060  0.124  0.277  0.564
ntt32 s  0.001  0.001  0.002  0.004  0.008  0.016  0.027  0.060  0.127  0.251  0.530
ntt32 l  0.001  0.001  0.002  0.004  0.008  0.018  0.030  0.067  0.134  0.274  0.585
ntt64 s  0.001  0.002  0.004  0.008  0.018  0.037  0.058  0.123  0.251  0.518  1.056
ntt64 l  0.002  0.002  0.004  0.010  0.019  0.039  0.062  0.137  0.281  0.547  1.117
Min_25 s 0.000  0.000  0.000  0.000  0.001  0.003  0.005  0.011  0.024  0.050  0.103
Min_25 l 0.000  0.000  0.001  0.002  0.003  0.007  0.011  0.017  0.030  0.059  0.130
libbf    0.000  0.000  0.002  0.003  0.008  0.018  0.036  0.068  0.142  0.288  0.603
ntl lm   0.001  0.001  0.002  0.004  0.008  0.017  0.035  0.076  0.151  0.331  0.634
ntl      0.000  0.000  0.001  0.001  0.002  0.005  0.010  0.023  0.045  0.098  0.203
mod = 1000000007
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.001  0.001  0.001  0.003  0.009  0.017  0.044  0.098  0.231  0.458
flint p  0.000  0.001  0.001  0.003  0.007  0.018  0.033  0.076  0.160  0.356  0.718
ntt32 l  0.000  0.001  0.001  0.005  0.010  0.019  0.030  0.070  0.137  0.278  0.592
ntt64 l  0.001  0.002  0.004  0.009  0.019  0.040  0.064  0.134  0.292  0.578  1.137
Min_25 l 0.000  0.000  0.001  0.002  0.004  0.009  0.015  0.025  0.033  0.070  0.131
libbf    0.000  0.001  0.002  0.005  0.009  0.020  0.041  0.075  0.153  0.311  0.641
ntl lm   0.001  0.001  0.002  0.004  0.008  0.018  0.038  0.078  0.155  0.328  0.649
ntl      0.000  0.000  0.000  0.001  0.002  0.005  0.010  0.021  0.047  0.096  0.202
mod = 100000000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.002  0.004  0.010  0.021  0.043  0.094  0.286  0.610
flint p  0.001  0.001  0.002  0.004  0.008  0.018  0.038  0.076  0.157  0.417  0.869
ntt32 l  0.001  0.001  0.003  0.005  0.009  0.018  0.031  0.071  0.144  0.293  0.606
ntt64 l  0.002  0.002  0.005  0.009  0.019  0.040  0.067  0.134  0.269  0.575  1.127
Min_25 l 0.000  0.000  0.001  0.002  0.004  0.009  0.014  0.021  0.036  0.062  0.134
libbf    0.000  0.001  0.002  0.004  0.009  0.020  0.038  0.076  0.150  0.312  0.648
ntl lm   0.001  0.001  0.003  0.006  0.012  0.025  0.053  0.106  0.217  0.442  0.918
ntl      0.001  0.001  0.003  0.006  0.013  0.026  0.053  0.106  0.218  0.451  0.915
mod = 316227766016779
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.003  0.006  0.012  0.026  0.054  0.134  0.280  0.588
flint p  0.000  0.001  0.002  0.005  0.009  0.018  0.041  0.091  0.216  0.437  0.867
ntt64 l  0.001  0.002  0.004  0.010  0.021  0.041  0.068  0.142  0.284  0.554  1.127
Min_25 l 0.000  0.000  0.001  0.002  0.004  0.008  0.014  0.020  0.034  0.069  0.131
libbf    0.000  0.001  0.002  0.005  0.008  0.019  0.039  0.076  0.152  0.319  0.664
ntl lm   0.001  0.002  0.003  0.006  0.018  0.026  0.055  0.116  0.234  0.476  1.000
ntl      0.001  0.002  0.003  0.007  0.014  0.027  0.057  0.120  0.231  0.495  0.971
End PolyMulPerformanceTest
Time usage 0:00:01:07.105
time usage: 0:00:01:50.245
```

### Openmp disabled (option "-fopenmp" removed)
```cpp
Begin PolyMulTest
config   : data = random, size = 1, n = 1000000, mod = 100019
flint n  : 0.290
flint p  : 0.546
ntt32 s  : 1.209
ntt32 l  : 1.860
ntt64 s  : 1.507
ntt64 l  : 3.027
Min_25 s : 0.114
Min_25 l : 0.271
libbf    : 0.605
ntl lm   : 0.605
ntl      : 0.204
config   : data = random, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.868
flint p  : 1.246
ntt32 l  : 4.033
ntt64 l  : 6.407
Min_25 l : 0.610
libbf    : 1.031
ntl lm   : 1.301
ntl      : 1.325
config   : data = random, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.571
flint p  : 0.831
ntt64 l  : 3.083
Min_25 l : 0.329
libbf    : 0.652
ntl lm   : 0.942
ntl      : 0.935
config   : data = max mod, size = 1, n = 999996, mod = 1000003
flint n  : 0.283
flint p  : 0.542
ntt32 s  : 0.944
ntt32 l  : 1.474
ntt64 s  : 1.417
ntt64 l  : 2.866
Min_25 s : 0.114
Min_25 l : 0.272
libbf    : 0.604
ntl lm   : 0.624
ntl      : 0.203
config   : data = max mod, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.872
flint p  : 1.255
ntt32 l  : 3.284
ntt64 l  : 6.146
Min_25 l : 0.604
libbf    : 1.030
ntl lm   : 1.258
ntl      : 1.287
config   : data = max mod, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.581
flint p  : 0.829
ntt64 l  : 2.901
Min_25 l : 0.324
libbf    : 0.654
ntl lm   : 0.913
ntl      : 0.902
End PolyMulTest
Time usage 0:00:01:07.347

Begin PolyMulPerformanceTest
mod = 100019
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.001  0.003  0.006  0.013  0.028  0.057  0.136  0.289
flint p  0.001  0.000  0.002  0.003  0.006  0.013  0.029  0.059  0.124  0.264  0.557
ntt32 s  0.000  0.001  0.003  0.006  0.013  0.027  0.060  0.124  0.261  0.557  1.195
ntt32 l  0.001  0.002  0.005  0.010  0.021  0.044  0.094  0.198  0.406  0.869  1.867
ntt64 s  0.002  0.002  0.003  0.008  0.016  0.037  0.078  0.160  0.336  0.713  1.506
ntt64 l  0.001  0.003  0.008  0.015  0.034  0.072  0.152  0.322  0.675  1.427  3.033
Min_25 s 0.000  0.001  0.000  0.000  0.001  0.002  0.006  0.012  0.025  0.056  0.115
Min_25 l 0.000  0.000  0.001  0.001  0.003  0.007  0.015  0.030  0.062  0.131  0.273
libbf    0.001  0.001  0.002  0.004  0.008  0.018  0.036  0.069  0.141  0.290  0.602
ntl lm   0.000  0.001  0.002  0.004  0.009  0.017  0.035  0.072  0.149  0.292  0.601
ntl      0.000  0.000  0.001  0.001  0.002  0.004  0.010  0.021  0.046  0.096  0.202
mod = 1000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.001  0.000  0.001  0.001  0.003  0.006  0.014  0.027  0.062  0.139  0.290
flint p  0.001  0.001  0.001  0.002  0.006  0.014  0.030  0.058  0.123  0.269  0.564
ntt32 s  0.000  0.002  0.002  0.006  0.013  0.028  0.060  0.124  0.259  0.554  1.189
ntt32 l  0.000  0.003  0.004  0.010  0.021  0.044  0.093  0.197  0.405  0.864  1.853
ntt64 s  0.000  0.002  0.003  0.008  0.016  0.036  0.077  0.162  0.338  0.712  1.506
ntt64 l  0.002  0.004  0.007  0.016  0.035  0.074  0.154  0.321  0.680  1.430  3.047
Min_25 s 0.000  0.000  0.000  0.000  0.001  0.003  0.006  0.013  0.026  0.055  0.114
Min_25 l 0.000  0.001  0.001  0.002  0.003  0.006  0.015  0.031  0.062  0.131  0.275
libbf    0.000  0.001  0.001  0.004  0.008  0.017  0.036  0.068  0.141  0.291  0.603
ntl lm   0.001  0.001  0.002  0.004  0.009  0.017  0.036  0.077  0.153  0.295  0.631
ntl      0.000  0.000  0.001  0.001  0.002  0.004  0.010  0.022  0.046  0.095  0.204
mod = 1000000007
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.001  0.003  0.009  0.017  0.054  0.096  0.229  0.460
flint p  0.001  0.001  0.001  0.003  0.006  0.017  0.034  0.075  0.159  0.356  0.712
ntt32 l  0.001  0.002  0.005  0.011  0.022  0.045  0.095  0.201  0.414  0.881  1.890
ntt64 l  0.001  0.003  0.007  0.016  0.035  0.073  0.158  0.327  0.691  1.451  3.081
Min_25 l 0.000  0.000  0.001  0.002  0.005  0.009  0.018  0.037  0.075  0.155  0.323
libbf    0.001  0.001  0.002  0.004  0.008  0.018  0.039  0.075  0.152  0.312  0.651
ntl lm   0.000  0.001  0.002  0.004  0.012  0.016  0.035  0.072  0.153  0.299  0.613
ntl      0.000  0.001  0.000  0.001  0.002  0.004  0.011  0.023  0.046  0.094  0.202
mod = 100000000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.001  0.004  0.009  0.021  0.044  0.094  0.289  0.646
flint p  0.001  0.001  0.002  0.004  0.008  0.017  0.035  0.075  0.195  0.458  0.862
ntt32 l  0.001  0.003  0.004  0.011  0.022  0.046  0.099  0.204  0.424  0.903  1.925
ntt64 l  0.001  0.003  0.007  0.016  0.035  0.073  0.157  0.328  0.687  1.457  3.081
Min_25 l 0.001  0.001  0.001  0.002  0.004  0.009  0.019  0.037  0.074  0.156  0.324
libbf    0.000  0.001  0.001  0.008  0.010  0.020  0.039  0.075  0.151  0.312  0.642
ntl lm   0.001  0.002  0.003  0.006  0.013  0.025  0.052  0.105  0.214  0.454  0.889
ntl      0.001  0.001  0.003  0.006  0.013  0.029  0.056  0.113  0.226  0.441  0.905
mod = 316227766016779
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.001  0.002  0.006  0.012  0.025  0.056  0.134  0.281  0.589
flint p  0.000  0.001  0.002  0.004  0.009  0.019  0.040  0.085  0.195  0.411  0.848
ntt64 l  0.002  0.004  0.007  0.016  0.034  0.073  0.157  0.329  0.688  1.461  3.081
Min_25 l 0.001  0.001  0.000  0.002  0.004  0.008  0.018  0.037  0.074  0.160  0.333
libbf    0.001  0.001  0.002  0.004  0.006  0.019  0.043  0.074  0.152  0.315  0.662
ntl lm   0.001  0.002  0.003  0.006  0.013  0.028  0.056  0.118  0.230  0.469  0.963
ntl      0.001  0.002  0.003  0.007  0.013  0.027  0.054  0.114  0.234  0.472  0.958
End PolyMulPerformanceTest
Time usage 0:00:01:40.579
time usage: 0:00:02:48.706
```
