# Test Environment

* Date: 2022.01.02
* OS:  Win11 Pro 21H2 (22000.376)
* CPU: [i9-9900K](https://en.wikichip.org/wiki/intel/core_i9/i9-9900k)
* Compiler: gcc version 11.2.0 (Rev2, Built by MSYS2 project)
* Msys2: msys2-x86_64-20210725
* Build:
  * [Build and use pe's dependent libraries](https://github.com/baihacker/pe/blob/master/libraries_on_win64.md#build-and-use-pes-dependent-libraries)
  * Build test target:
  > -o a.exe --std=c++17 -fno-diagnostics-color -O3 -march=native -mtune=native -fopenmp -lquadmath -Wl,--stack,268435456 -static -lbf -lgmpxx -lflint -lmpfr -lntl -lgmp -lprimesieve -lprimecount

# PolyMul benchmark
* Test code: [Poly mul test](https://github.com/baihacker/pe/blob/master/test/poly_mul_test.c)

## Test result

### Openmp enabled
```cpp
Begin PolyMulTest
config   : data = random, size = 1, n = 1000000, mod = 100019
flint n  : 0.266
flint p  : 0.520
ntt32 s  : 0.502
ntt32 l  : 0.562
ntt64 s  : 1.012
ntt64 l  : 1.093
Min_25 s : 0.094
Min_25 l : 0.188
libbf    : 0.578
ntl lm   : 0.641
ntl      : 0.218
config   : data = random, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.860
flint p  : 1.187
ntt32 l  : 1.173
ntt64 l  : 2.158
Min_25 l : 0.281
libbf    : 0.985
ntl lm   : 1.406
ntl      : 1.438
config   : data = random, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.547
flint p  : 0.797
ntt64 l  : 1.094
Min_25 l : 0.125
libbf    : 0.609
ntl lm   : 1.000
ntl      : 1.015
config   : data = max mod, size = 1, n = 999996, mod = 1000003
flint n  : 0.282
flint p  : 0.531
ntt32 s  : 0.453
ntt32 l  : 0.500
ntt64 s  : 0.969
ntt64 l  : 1.047
Min_25 s : 0.110
Min_25 l : 0.125
libbf    : 0.578
ntl lm   : 0.656
ntl      : 0.219
config   : data = max mod, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.828
flint p  : 1.188
ntt32 l  : 1.031
ntt64 l  : 2.095
Min_25 l : 0.250
libbf    : 0.969
ntl lm   : 1.359
ntl      : 1.375
config   : data = max mod, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.562
flint p  : 0.797
ntt64 l  : 1.079
Min_25 l : 0.141
libbf    : 0.609
ntl lm   : 0.969
ntl      : 1.000
End PolyMulTest
Time usage 0:00:00:40.794

Begin PolyMulPerformanceTest
mod = 100019
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.015  0.000  0.016  0.016  0.025  0.062  0.125  0.265
flint p  0.000  0.000  0.000  0.000  0.016  0.015  0.016  0.047  0.110  0.250  0.532
ntt32 s  0.000  0.000  0.000  0.000  0.000  0.015  0.031  0.062  0.110  0.234  0.484
ntt32 l  0.000  0.000  0.000  0.000  0.015  0.016  0.031  0.078  0.140  0.266  0.516
ntt64 s  0.000  0.000  0.000  0.016  0.016  0.032  0.047  0.125  0.250  0.516  1.046
ntt64 l  0.000  0.000  0.000  0.016  0.016  0.032  0.063  0.125  0.281  0.563  1.113
Min_25 s 0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.015  0.032  0.047  0.109
Min_25 l 0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.032  0.031  0.047  0.141
libbf    0.000  0.000  0.000  0.015  0.000  0.015  0.031  0.062  0.125  0.282  0.578
ntl lm   0.000  0.000  0.016  0.000  0.016  0.015  0.031  0.063  0.172  0.344  0.719
ntl      0.000  0.000  0.000  0.000  0.016  0.000  0.015  0.031  0.047  0.094  0.203
mod = 1000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.016  0.000  0.000  0.000  0.015  0.000  0.032  0.062  0.125  0.297
flint p  0.000  0.000  0.000  0.000  0.000  0.015  0.031  0.062  0.125  0.250  0.531
ntt32 s  0.000  0.000  0.000  0.000  0.016  0.015  0.015  0.062  0.125  0.235  0.485
ntt32 l  0.000  0.000  0.000  0.000  0.016  0.016  0.031  0.062  0.126  0.281  0.532
ntt64 s  0.000  0.000  0.015  0.000  0.016  0.047  0.062  0.125  0.265  0.500  1.022
ntt64 l  0.000  0.000  0.000  0.000  0.016  0.031  0.062  0.140  0.265  0.547  1.110
Min_25 s 0.000  0.000  0.000  0.000  0.015  0.000  0.016  0.016  0.032  0.063  0.110
Min_25 l 0.000  0.000  0.000  0.015  0.000  0.016  0.000  0.031  0.032  0.062  0.172
libbf    0.000  0.000  0.016  0.000  0.015  0.016  0.032  0.078  0.157  0.265  0.578
ntl lm   0.000  0.000  0.000  0.000  0.015  0.016  0.031  0.079  0.140  0.344  0.656
ntl      0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.015  0.047  0.094  0.203
mod = 1000000007
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.047  0.094  0.234  0.447
flint p  0.000  0.000  0.000  0.000  0.000  0.015  0.031  0.078  0.172  0.344  0.688
ntt32 l  0.000  0.000  0.000  0.000  0.015  0.016  0.032  0.078  0.141  0.282  0.578
ntt64 l  0.000  0.000  0.016  0.000  0.015  0.047  0.062  0.141  0.282  0.547  1.094
Min_25 l 0.000  0.000  0.000  0.000  0.016  0.015  0.016  0.016  0.031  0.078  0.141
libbf    0.000  0.000  0.000  0.000  0.016  0.016  0.031  0.078  0.172  0.281  0.609
ntl lm   0.000  0.000  0.000  0.000  0.015  0.016  0.031  0.078  0.188  0.359  0.703
ntl      0.000  0.000  0.000  0.000  0.000  0.015  0.016  0.032  0.047  0.095  0.219
mod = 100000000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.047  0.079  0.281  0.579
flint p  0.000  0.015  0.000  0.000  0.016  0.016  0.032  0.078  0.156  0.407  0.829
ntt32 l  0.015  0.000  0.000  0.000  0.016  0.016  0.031  0.062  0.140  0.265  0.562
ntt64 l  0.000  0.000  0.000  0.015  0.016  0.047  0.063  0.141  0.266  0.562  1.094
Min_25 l 0.000  0.000  0.000  0.000  0.016  0.015  0.016  0.031  0.031  0.062  0.141
libbf    0.000  0.000  0.015  0.000  0.016  0.016  0.031  0.078  0.172  0.296  0.609
ntl lm   0.000  0.000  0.016  0.000  0.015  0.016  0.047  0.109  0.250  0.469  0.984
ntl      0.000  0.016  0.000  0.000  0.000  0.016  0.046  0.125  0.251  0.468  1.000
mod = 316227766016779
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.016  0.000  0.000  0.031  0.047  0.126  0.265  0.562
flint p  0.000  0.000  0.000  0.000  0.000  0.016  0.047  0.094  0.188  0.391  0.828
ntt64 l  0.000  0.000  0.000  0.016  0.016  0.032  0.063  0.141  0.281  0.547  1.125
Min_25 l 0.000  0.000  0.000  0.000  0.000  0.016  0.000  0.026  0.031  0.078  0.156
libbf    0.000  0.016  0.000  0.000  0.015  0.016  0.047  0.078  0.141  0.297  0.640
ntl lm   0.000  0.000  0.000  0.016  0.016  0.031  0.046  0.109  0.235  0.531  1.063
ntl      0.000  0.000  0.015  0.000  0.000  0.015  0.062  0.109  0.235  0.500  1.078
End PolyMulPerformanceTest
Time usage 0:00:01:06.799
time usage: 0:00:01:48.330
```

### Openmp disabled (option "-fopenmp" removed)
```cpp
Begin PolyMulTest
config   : data = random, size = 1, n = 1000000, mod = 100019
flint n  : 0.281
flint p  : 0.531
ntt32 s  : 1.126
ntt32 l  : 1.719
ntt64 s  : 1.469
ntt64 l  : 2.942
Min_25 s : 0.109
Min_25 l : 0.250
libbf    : 0.563
ntl lm   : 0.640
ntl      : 0.203
config   : data = random, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.844
flint p  : 1.188
ntt32 l  : 3.763
ntt64 l  : 6.207
Min_25 l : 0.593
libbf    : 0.969
ntl lm   : 1.453
ntl      : 1.426
config   : data = random, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.547
flint p  : 0.797
ntt64 l  : 3.000
Min_25 l : 0.313
libbf    : 0.609
ntl lm   : 1.000
ntl      : 1.016
config   : data = max mod, size = 1, n = 999996, mod = 1000003
flint n  : 0.265
flint p  : 0.500
ntt32 s  : 0.875
ntt32 l  : 1.344
ntt64 s  : 1.375
ntt64 l  : 2.781
Min_25 s : 0.110
Min_25 l : 0.250
libbf    : 0.578
ntl lm   : 0.672
ntl      : 0.203
config   : data = max mod, size = 3, n = 1479725, mod = 100000000003
flint n  : 0.844
flint p  : 1.187
ntt32 l  : 3.031
ntt64 l  : 5.938
Min_25 l : 0.578
libbf    : 0.969
ntl lm   : 1.375
ntl      : 1.391
config   : data = max mod, size = 4, n = 1000000, mod = 316227766016779
flint n  : 0.547
flint p  : 0.797
ntt64 l  : 2.813
Min_25 l : 0.313
libbf    : 0.624
ntl lm   : 0.938
ntl      : 0.953
End PolyMulTest
Time usage 0:00:01:05.510

Begin PolyMulPerformanceTest
mod = 100019
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.047  0.125  0.282
flint p  0.000  0.000  0.000  0.015  0.000  0.000  0.032  0.063  0.109  0.250  0.532
ntt32 s  0.000  0.000  0.015  0.000  0.016  0.015  0.062  0.125  0.250  0.531  1.109
ntt32 l  0.000  0.000  0.000  0.016  0.015  0.031  0.093  0.187  0.375  0.797  1.719
ntt64 s  0.000  0.000  0.000  0.016  0.015  0.031  0.063  0.156  0.328  0.688  1.469
ntt64 l  0.000  0.016  0.000  0.016  0.032  0.078  0.156  0.316  0.656  1.376  2.938
Min_25 s 0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.031  0.046  0.125
Min_25 l 0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.031  0.062  0.109  0.250
libbf    0.000  0.000  0.000  0.016  0.000  0.015  0.031  0.062  0.125  0.281  0.578
ntl lm   0.000  0.000  0.000  0.000  0.015  0.016  0.032  0.078  0.157  0.324  0.703
ntl      0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.016  0.047  0.093  0.219
mod = 1000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.000  0.000  0.015  0.016  0.031  0.063  0.125  0.265
flint p  0.000  0.000  0.000  0.000  0.016  0.015  0.032  0.063  0.125  0.250  0.531
ntt32 s  0.000  0.000  0.000  0.000  0.000  0.016  0.063  0.125  0.250  0.516  1.125
ntt32 l  0.000  0.000  0.016  0.000  0.016  0.047  0.094  0.188  0.375  0.813  1.719
ntt64 s  0.000  0.015  0.000  0.016  0.016  0.031  0.078  0.156  0.328  0.704  1.469
ntt64 l  0.000  0.000  0.015  0.016  0.031  0.062  0.156  0.312  0.672  1.391  2.938
Min_25 s 0.000  0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.031  0.046  0.109
Min_25 l 0.000  0.000  0.000  0.000  0.000  0.015  0.000  0.016  0.062  0.125  0.234
libbf    0.000  0.000  0.000  0.008  0.008  0.015  0.032  0.062  0.140  0.266  0.578
ntl lm   0.000  0.000  0.000  0.016  0.000  0.016  0.032  0.079  0.156  0.328  0.703
ntl      0.000  0.000  0.000  0.000  0.000  0.000  0.015  0.016  0.047  0.094  0.204
mod = 1000000007
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.000  0.016  0.000  0.015  0.047  0.093  0.219  0.437
flint p  0.000  0.000  0.000  0.000  0.016  0.015  0.031  0.062  0.141  0.344  0.688
ntt32 l  0.015  0.000  0.000  0.016  0.016  0.032  0.094  0.187  0.391  0.828  1.756
ntt64 l  0.000  0.000  0.016  0.016  0.031  0.062  0.156  0.312  0.672  1.406  3.000
Min_25 l 0.000  0.000  0.000  0.016  0.000  0.016  0.016  0.032  0.063  0.141  0.312
libbf    0.000  0.000  0.000  0.000  0.015  0.016  0.031  0.063  0.141  0.298  0.593
ntl lm   0.000  0.000  0.000  0.000  0.000  0.016  0.031  0.063  0.156  0.360  0.719
ntl      0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.015  0.047  0.094  0.203
mod = 100000000003
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.016  0.000  0.000  0.000  0.000  0.000  0.016  0.031  0.078  0.281  0.578
flint p  0.000  0.000  0.015  0.000  0.016  0.015  0.031  0.078  0.157  0.391  0.844
ntt32 l  0.000  0.000  0.016  0.000  0.016  0.047  0.094  0.203  0.391  0.844  1.797
ntt64 l  0.000  0.000  0.015  0.016  0.031  0.062  0.156  0.328  0.672  1.407  2.985
Min_25 l 0.000  0.015  0.000  0.000  0.000  0.000  0.015  0.031  0.063  0.156  0.313
libbf    0.000  0.000  0.000  0.016  0.015  0.016  0.031  0.063  0.140  0.281  0.609
ntl lm   0.000  0.000  0.000  0.016  0.016  0.031  0.062  0.125  0.219  0.500  0.953
ntl      0.000  0.000  0.000  0.000  0.000  0.015  0.063  0.110  0.219  0.484  0.984
mod = 316227766016779
log2(n)  10     11     12     13     14     15     16     17     18     19     20
flint n  0.000  0.000  0.000  0.000  0.016  0.015  0.016  0.063  0.125  0.266  0.563
flint p  0.000  0.000  0.000  0.000  0.015  0.016  0.031  0.094  0.188  0.382  0.796
ntt64 l  0.000  0.000  0.000  0.015  0.031  0.078  0.141  0.312  0.672  1.407  3.001
Min_25 l 0.000  0.000  0.000  0.000  0.000  0.000  0.016  0.031  0.062  0.156  0.312
libbf    0.000  0.000  0.000  0.000  0.000  0.016  0.047  0.079  0.140  0.297  0.609
ntl lm   0.016  0.000  0.000  0.000  0.015  0.032  0.062  0.109  0.219  0.516  1.031
ntl      0.000  0.000  0.000  0.000  0.000  0.016  0.046  0.109  0.235  0.484  1.047
End PolyMulPerformanceTest
Time usage 0:00:01:37.326
time usage: 0:00:02:43.571
```
